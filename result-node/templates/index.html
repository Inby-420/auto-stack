<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculation Results</title>
    <!-- Using Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Using a dark theme */
        body {
            background-color: #121826;
            color: #e0e0e0;
            font-family: 'Inter', sans-serif;
        }
        .table-header {
            background-color: #374151; /* gray-700 */
        }
        .table-row-even {
            background-color: #1a2233;
        }
        .table-row-odd {
            background-color: #1e293b; /* slate-800 */
        }
        .error-box {
            background-color: #b91c1c; /* red-700 */
            color: #fde8e8; /* red-100 */
        }
        .title {
            color: #7dd3fc; /* sky-300 */
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <h1 class="text-3xl font-bold text-center mb-6 title">Calculation Results</h1>

    <!-- Error Display Box -->
    {% if error %}
        <div class="error-box p-4 rounded-lg mb-6 shadow-lg">
            <strong>Error:</strong> {{ error }}
        </div>
    {% endif %}

    <!-- Results Table -->
    <div class="shadow-2xl rounded-lg overflow-hidden">
        <table class="min-w-full divide-y divide-gray-600">
            <thead class="table-header">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                        Timestamp
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                        Equation
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                        Answer
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                        Time Taken (ms)
                    </th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-700">
                
                {% if results %}
                    {% for calc in results %}
                        <tr class="{% if loop.index is even %}table-row-even{% else %}table-row-odd{% endif %}">
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                                <!-- Format the timestamp -->
                                {{ calc.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                                {{ calc.equation }}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                                {{ calc.answer }}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                                <!-- Format the time_ms to a few decimal places -->
                                {{ "%.4f"|format(calc.time_ms) }}
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="4" class="px-6 py-12 text-center text-gray-400 text-lg">
                            No calculations found. Waiting for data...
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>

</body>
</html>

